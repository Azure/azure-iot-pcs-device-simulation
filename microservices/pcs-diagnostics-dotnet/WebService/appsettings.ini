; Store in this section all the configuration settings specific
; to the current application, like the TCP port where the web service
; is listening, the path of folders containing data, etc.
[diagnostics]
webservice_port = 9006
; Prepend paths with "./" if they are relative to the application
; assemblies, otherwise prepend "/" for absolute paths.
some_folder_path = ./data/somefiles

; Config url for verifying user consent to collect data
pcs_config_url = "${PCS_CONFIG_WEBSERVICE_URL}"

; Type of solution. E.g DeviceSimulation, RemoteMonitoring, etc.
solution_type = "${?PCS_SOLUTION_TYPE}"

; Unique id of the solution deployment
deployment_id = "${?PCS_DEPLOYMENT_ID}"

; Subscription Id solution was deployed with
subscription_id = "${?PCS_SUBSCRIPTION_ID}"

; Cloud Type (ex. Global, China) solution was deployed in
cloud_type = "${?PCS_CLOUD_TYPE}"

; Name of IoT Hub used in solution
iothub_name = "${?PCS_IOTHUB_NAME}"

; Name of solution
solution_name = "${?PCS_SOLUTION_NAME}"

; Application Insights Instrumentation Key
appinsights_instrumentation_key = "${?PCS_APPINSIGHTS_INSTRUMENTATIONKEY}"

; Polling Interval for retrieving user consent
; Default: 5 minutes
user_consent_polling_interval_seconds = 300

[diagnostics:ClientAuth]
;; Current auth type, only "JWT" is currently supported.
auth_type="JWT"
;; This can be changed to false, for example during development,
;; to allow invalid/missing authorizations.
;; Default: true
auth_required="${?PCS_AUTH_REQUIRED}"
;; Can be used when running services on multiple hostnames and/or ports
;; e.g. "{ 'origins': ['*'], 'methods': ['*'], 'headers': ['*'] }" to allow everything.
;; Comment it or leave it empty to disable CORS.
;; Default: empty
cors_whitelist = "${?PCS_CORS_WHITELIST}"

[diagnostics:ClientAuth:JWT]
; Trusted algorithms
; Default: RS256, RS384, RS512
allowed_algorithms="RS256"
; Identifies the security token service (STS) that constructs and returns the token.
; In the tokens that Azure AD returns, the issuer is sts.windows.net. The GUID in
; the Issuer claim value is the tenant ID of the Azure AD directory. The tenant ID
; is an immutable and reliable identifier of the directory.
; Used to verify that tokens are issued by Azure AD.
; When using Azure Active Directory, the format of the Issuer is:
; https://sts.windows.net/<tenant Id>/
; example: issuer="https://sts.windows.net/fa01ade2-2365-4dd1-a084-a6ef027090fc/"
issuer="${?PCS_AUTH_ISSUER}"
; Used to verify that tokens are issued to be given to this service
; Also referenced as "Application Id" and "Resource Id"
; example: audience="2814e709-6a0e-4861-9594-d3b6e2b81331"
audience="${?PCS_AUTH_AUDIENCE}"
; When validating the token expiration, allows some clock skew
; Default: 2 minutes
clock_skew_seconds = 300

; For more information about ASP.NET logging see
; https://docs.microsoft.com/en-us/aspnet/core/fundamentals/logging
; This configuration block is used only to capture
; internal logs generated by ASP.NET
; ASP.NET log levels: Trace, Debug, Information, Warning, Error, Critical
[Logging]
IncludeScopes = true
LogLevel:Default = "Debug"
LogLevel:System = "Debug"
LogLevel:Microsoft = "Debug"
